apply plugin: 'groovy'
apply from: rootProject.file('gradle/maven.gradle')

sourceCompatibility = JavaVersion.VERSION_1_7
targetCompatibility = JavaVersion.VERSION_1_7

dependencies {
  compile gradleApi()
}

sourceSets {
  main {
    java {
      srcDir "$buildDir/gen/java"
    }
  }
}

project.tasks.create(name: 'generateConstants', type: GenerateConstants) {
  outputDir = new File("$buildDir/gen/java")
  pluginGroup = project.pluginGroup
  pluginVersion = project.pluginVersion
  project.tasks.compileJava.dependsOn it
}
